{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCards = imgInfo => {\n    const altInfo = `\n        <b>Likes:</b> ${imgInfo.likes} |\n        <b>Views:</b> ${imgInfo.views} |\n        <b>Comments:</b> ${imgInfo.comments} |\n        <b>Downloads:</b> ${imgInfo.downloads}\n    `.trim();\n\n    return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${imgInfo.webformatURL}\"\n                    alt=\"${altInfo}\" \n                />\n            </a>\n        </li>\n    `;\n};","export const findPhotoByQuery = query => {\n    return fetch(`https://pixabay.com/api/?key=49122647-aca4436714a1b5873bcd0147f&image_type=photo&orientation=horizontal&safesearch=true&q=${encodeURIComponent(query)}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createGalleryCards } from \"./js/render-functions\";\nimport { findPhotoByQuery } from \"./js/pixabay-api\";\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.js-loader');\n\n\nconst showLoader = () => {\n  loader.classList.remove('is-hidden');\n};\nconst hideLoader = () => {\n  loader.classList.add('is-hidden');\n};\n\n\nconst formSubmit = event => {\n    event.preventDefault();\n\n    const searchQuery = event.currentTarget.elements.user_search.value.trim();\n    if (searchQuery === '') {\n        iziToast.error({ title: 'Error', message: 'Sorry, there are no images matching your search query. Please try again!' });\n        return;\n    }\n    showLoader();\n\n    findPhotoByQuery(searchQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.warning({ title: 'Error', message: 'Sorry, there are no images matching your search query. Please try again!' });\n                galleryEl.innerHTML = '';\n                searchForm.reset();\n                return;\n            }\n\n            \n            const galleryMarkup = data.hits.map(el => createGalleryCards(el)).join('');\n            galleryEl.innerHTML = galleryMarkup; \n\n           \n            const lightbox = new SimpleLightbox('.js-gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n                captionPosition: 'bottom',\n              });\n            lightbox.refresh();  \n            \n        })\n        .catch(err => {\n            iziToast.error({ title: 'Error', message: 'Sorry, there are no images matching your search query. Please try again!' });\n            console.error(err);\n        })\n        .finally(() => hideLoader());\n};\n    \n\n         searchForm.addEventListener('submit', formSubmit);\n\n"],"names":["createGalleryCards","imgInfo","altInfo","findPhotoByQuery","query","response","searchForm","galleryEl","loader","showLoader","hideLoader","formSubmit","event","searchQuery","iziToast","data","galleryMarkup","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAW,CACzC,MAAMC,EAAU;AAAA,wBACID,EAAQ,KAAK;AAAA,wBACbA,EAAQ,KAAK;AAAA,2BACVA,EAAQ,QAAQ;AAAA,4BACfA,EAAQ,SAAS;AAAA,MACvC,KAAI,EAEN,MAAO;AAAA;AAAA,4CAEiCA,EAAQ,aAAa;AAAA;AAAA;AAAA,2BAGtCA,EAAQ,YAAY;AAAA,2BACpBC,CAAO;AAAA;AAAA;AAAA;AAAA,KAKlC,ECnBaC,EAAmBC,GACrB,MAAM,6HAA6H,mBAAmBA,CAAK,CAAC,EAAE,EAChK,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,ECEHC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,YAAY,EAG5CC,EAAa,IAAM,CACvBD,EAAO,UAAU,OAAO,WAAW,CACrC,EACME,EAAa,IAAM,CACvBF,EAAO,UAAU,IAAI,WAAW,CAClC,EAGMG,EAAaC,GAAS,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,YAAY,MAAM,OACnE,GAAIC,IAAgB,GAAI,CACpBC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0EAA0E,CAAE,EACtH,MACH,CACDL,IAEAN,EAAiBU,CAAW,EACvB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CAAE,MAAO,QAAS,QAAS,0EAA0E,CAAE,EACxHP,EAAU,UAAY,GACtBD,EAAW,MAAK,EAChB,MACH,CAGD,MAAMU,EAAgBD,EAAK,KAAK,IAAIE,GAAMjB,EAAmBiB,CAAE,CAAC,EAAE,KAAK,EAAE,EACzEV,EAAU,UAAYS,EAGL,IAAIE,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,IACd,gBAAiB,QACjC,CAAe,EACM,QAAO,CAE5B,CAAS,EACA,MAAMC,GAAO,CACVL,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0EAA0E,CAAE,EACtH,QAAQ,MAAMK,CAAG,CAC7B,CAAS,EACA,QAAQ,IAAMT,EAAU,CAAE,CACnC,EAGSJ,EAAW,iBAAiB,SAAUK,CAAU"}